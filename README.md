# ETL process with Python and Airflow using Spotify API

## About the Project
ETL project (Extract, Transform and Load) using Python with Spotify API and Airflow for automation. With a token generated by the Spotify platform itself, it is possible to make a *request* with the data of the songs you listened to, taking only the ones I listened to in the last 24 hours, I set up a process where manually or automatically with Airflow this data is saved in an SQL database.

## Technologies
The following tools were used in building the project:

- **Python**
- **Pandas**
- **SQLAlchemy**
- **Airflow**

## Extract
With a free Spotify account, it is possible to generate a token that will give you access to the songs you have listened to, it is worth noting that the token expires in a few hours, ideally, you would find a way to update the token automatically.

## Transform
After extracting the data, they are transformed into a JSON file, where I can choose the information I want and put it in a python dictionary. Then I transform this dictionary into a pandas DataFrame to facilitate manipulation.

## Load
Using SQLAlchemy I create a database, this database is then fed with data from the DataFrame.

## Validation
There are some basic validations, one that indicates if the DataFrame is empty, another indicates if any primary key is repeated and one that checks if there are null values.

## Airflow
I just built a simple DAG to understand how Airflow works, it would run automatically every day, executing the ETL code.

## Local setup
NOTE: project is setup for python 3.9 so It should work fine for 3.9+ versions. If you have any issues with the setup, consider updating your python version.
```sh
# clone the repo
git clone https://github.com/Cine-Pixel/django-ecommerce.git](https://github.com/mariami01/Spotify_ETL

# create virtual environment for airflow
source airflow-venev/bin/activate # for linux and mac

# create virtual environment with venv or your preffered tool and activate
python -m venv venv
source venv/bin/activate # for linux and mac

# run airflow server
airflow webserver -p 8080

# run airflow scheduler
airflow scheduler
```


## About me
Freshly graduated in Computer Science, and passionate about Artificial Intelligence and Data, I am looking for an opportunity to gain experience with Data Science, Machine Learning and Data Engineering.
* [LinkedIn](https://www.linkedin.com/in/zenaishvilimariam/)
